{"ast":null,"code":"const express = require('express');\nconst cors = require('cors');\nconst fs = require('fs');\nconst app = express();\nconst PORT = 5000;\napp.use(cors());\napp.use(express.json());\n\n// KullanÄ±cÄ± doÄŸrulama endpoint'i\napp.post('/giris', (req, res) => {\n  const {\n    girisBilgisi\n  } = req.body;\n  const veriler = JSON.parse(fs.readFileSync('users.json', 'utf-8'));\n  const kullanici = veriler.find(k => k.tc === girisBilgisi || k.kullaniciAdi.toLowerCase() === girisBilgisi.toLowerCase());\n  if (kullanici) {\n    res.json({\n      basarili: true,\n      adSoyad: kullanici.adSoyad,\n      sube: kullanici.sube\n    });\n  } else {\n    res.json({\n      basarili: false,\n      mesaj: 'KullanÄ±cÄ± bulunamadÄ±'\n    });\n  }\n});\n\n// Åžube gÃ¼ncelleme endpoint'i\napp.post('/sube-guncelle', (req, res) => {\n  const {\n    girisBilgisi,\n    yeniSube\n  } = req.body;\n  const dosyaYolu = './users.json';\n  const veriler = JSON.parse(fs.readFileSync(dosyaYolu, 'utf-8'));\n  const kullaniciIndex = veriler.findIndex(k => k.tc === girisBilgisi || k.kullaniciAdi.toLowerCase() === girisBilgisi.toLowerCase());\n  if (kullaniciIndex !== -1) {\n    veriler[kullaniciIndex].sube = yeniSube;\n    fs.writeFileSync(dosyaYolu, JSON.stringify(veriler, null, 2));\n    res.json({\n      basarili: true,\n      mesaj: 'Åžube baÅŸarÄ±yla gÃ¼ncellendi.'\n    });\n  } else {\n    res.status(404).json({\n      basarili: false,\n      mesaj: 'KullanÄ±cÄ± bulunamadÄ±.'\n    });\n  }\n});\n\n// Sunucuyu baÅŸlat\napp.listen(PORT, () => {\n  console.log(`ðŸš€ Sunucu Ã§alÄ±ÅŸÄ±yor: http://localhost:${PORT}`);\n});","map":{"version":3,"names":["express","require","cors","fs","app","PORT","use","json","post","req","res","girisBilgisi","body","veriler","JSON","parse","readFileSync","kullanici","find","k","tc","kullaniciAdi","toLowerCase","basarili","adSoyad","sube","mesaj","yeniSube","dosyaYolu","kullaniciIndex","findIndex","writeFileSync","stringify","status","listen","console","log"],"sources":["C:/Users/emreg/OneDrive/MasaÃ¼stÃ¼/ziraat-musteri-devir/frontend/src/App.js"],"sourcesContent":["const express = require('express');\nconst cors = require('cors');\nconst fs = require('fs');\n\nconst app = express();\nconst PORT = 5000;\n\napp.use(cors());\napp.use(express.json());\n\n// KullanÄ±cÄ± doÄŸrulama endpoint'i\napp.post('/giris', (req, res) => {\n  const { girisBilgisi } = req.body;\n  const veriler = JSON.parse(fs.readFileSync('users.json', 'utf-8'));\n\n  const kullanici = veriler.find(\n    (k) =>\n      k.tc === girisBilgisi ||\n      k.kullaniciAdi.toLowerCase() === girisBilgisi.toLowerCase()\n  );\n\n  if (kullanici) {\n    res.json({\n      basarili: true,\n      adSoyad: kullanici.adSoyad,\n      sube: kullanici.sube\n    });\n  } else {\n    res.json({ basarili: false, mesaj: 'KullanÄ±cÄ± bulunamadÄ±' });\n  }\n});\n\n// Åžube gÃ¼ncelleme endpoint'i\napp.post('/sube-guncelle', (req, res) => {\n  const { girisBilgisi, yeniSube } = req.body;\n  const dosyaYolu = './users.json';\n\n  const veriler = JSON.parse(fs.readFileSync(dosyaYolu, 'utf-8'));\n\n  const kullaniciIndex = veriler.findIndex(\n    (k) =>\n      k.tc === girisBilgisi ||\n      k.kullaniciAdi.toLowerCase() === girisBilgisi.toLowerCase()\n  );\n\n  if (kullaniciIndex !== -1) {\n    veriler[kullaniciIndex].sube = yeniSube;\n    fs.writeFileSync(dosyaYolu, JSON.stringify(veriler, null, 2));\n    res.json({ basarili: true, mesaj: 'Åžube baÅŸarÄ±yla gÃ¼ncellendi.' });\n  } else {\n    res.status(404).json({ basarili: false, mesaj: 'KullanÄ±cÄ± bulunamadÄ±.' });\n  }\n});\n\n// Sunucuyu baÅŸlat\napp.listen(PORT, () => {\n  console.log(`ðŸš€ Sunucu Ã§alÄ±ÅŸÄ±yor: http://localhost:${PORT}`);\n});\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAME,EAAE,GAAGF,OAAO,CAAC,IAAI,CAAC;AAExB,MAAMG,GAAG,GAAGJ,OAAO,CAAC,CAAC;AACrB,MAAMK,IAAI,GAAG,IAAI;AAEjBD,GAAG,CAACE,GAAG,CAACJ,IAAI,CAAC,CAAC,CAAC;AACfE,GAAG,CAACE,GAAG,CAACN,OAAO,CAACO,IAAI,CAAC,CAAC,CAAC;;AAEvB;AACAH,GAAG,CAACI,IAAI,CAAC,QAAQ,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC/B,MAAM;IAAEC;EAAa,CAAC,GAAGF,GAAG,CAACG,IAAI;EACjC,MAAMC,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACZ,EAAE,CAACa,YAAY,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;EAElE,MAAMC,SAAS,GAAGJ,OAAO,CAACK,IAAI,CAC3BC,CAAC,IACAA,CAAC,CAACC,EAAE,KAAKT,YAAY,IACrBQ,CAAC,CAACE,YAAY,CAACC,WAAW,CAAC,CAAC,KAAKX,YAAY,CAACW,WAAW,CAAC,CAC9D,CAAC;EAED,IAAIL,SAAS,EAAE;IACbP,GAAG,CAACH,IAAI,CAAC;MACPgB,QAAQ,EAAE,IAAI;MACdC,OAAO,EAAEP,SAAS,CAACO,OAAO;MAC1BC,IAAI,EAAER,SAAS,CAACQ;IAClB,CAAC,CAAC;EACJ,CAAC,MAAM;IACLf,GAAG,CAACH,IAAI,CAAC;MAAEgB,QAAQ,EAAE,KAAK;MAAEG,KAAK,EAAE;IAAuB,CAAC,CAAC;EAC9D;AACF,CAAC,CAAC;;AAEF;AACAtB,GAAG,CAACI,IAAI,CAAC,gBAAgB,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EACvC,MAAM;IAAEC,YAAY;IAAEgB;EAAS,CAAC,GAAGlB,GAAG,CAACG,IAAI;EAC3C,MAAMgB,SAAS,GAAG,cAAc;EAEhC,MAAMf,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACZ,EAAE,CAACa,YAAY,CAACY,SAAS,EAAE,OAAO,CAAC,CAAC;EAE/D,MAAMC,cAAc,GAAGhB,OAAO,CAACiB,SAAS,CACrCX,CAAC,IACAA,CAAC,CAACC,EAAE,KAAKT,YAAY,IACrBQ,CAAC,CAACE,YAAY,CAACC,WAAW,CAAC,CAAC,KAAKX,YAAY,CAACW,WAAW,CAAC,CAC9D,CAAC;EAED,IAAIO,cAAc,KAAK,CAAC,CAAC,EAAE;IACzBhB,OAAO,CAACgB,cAAc,CAAC,CAACJ,IAAI,GAAGE,QAAQ;IACvCxB,EAAE,CAAC4B,aAAa,CAACH,SAAS,EAAEd,IAAI,CAACkB,SAAS,CAACnB,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IAC7DH,GAAG,CAACH,IAAI,CAAC;MAAEgB,QAAQ,EAAE,IAAI;MAAEG,KAAK,EAAE;IAA8B,CAAC,CAAC;EACpE,CAAC,MAAM;IACLhB,GAAG,CAACuB,MAAM,CAAC,GAAG,CAAC,CAAC1B,IAAI,CAAC;MAAEgB,QAAQ,EAAE,KAAK;MAAEG,KAAK,EAAE;IAAwB,CAAC,CAAC;EAC3E;AACF,CAAC,CAAC;;AAEF;AACAtB,GAAG,CAAC8B,MAAM,CAAC7B,IAAI,EAAE,MAAM;EACrB8B,OAAO,CAACC,GAAG,CAAC,yCAAyC/B,IAAI,EAAE,CAAC;AAC9D,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}